var E=Object.defineProperty,I=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var v=(n,o,e)=>o in n?E(n,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[o]=e,B=(n,o)=>{for(var e in o||(o={}))O.call(o,e)&&v(n,e,o[e]);if(h)for(var e of h(o))R.call(o,e)&&v(n,e,o[e]);return n},C=(n,o)=>I(n,N(o));import{a4 as S,d as K,r as U,$ as F,J as A,L as M,M as Q,f as r,a5 as j,o as _,c as J,j as t,h as l,l as a,a2 as T,aa as $,R as G,g as k,a as H,t as W,B as X,z as x}from"./index-ad449e55.js";import{u as Y}from"./filter-4c8c4852.js";import{r as Z}from"./refresh-1942c72f.js";function ee(n){return S({url:"/marketing/distribution/user_operation_logs",method:"get",params:n})}const te={class:"app-container"},oe=x("\u641C\u7D22"),ae=x("\u91CD\u7F6E"),ne={name:"user"},ue=K(C(B({},ne),{setup(n){const o=U(F),e=A({loading:!0,ids:[],single:!0,multiple:!0,total:0,distributionOperationLogsList:[],dialog:{visible:!1},queryParams:{page:1,pageSize:10}}),{loading:L,queryParams:p,total:m}=M(e);function c(){e.loading=!0,ee(e.queryParams).then(({data:d})=>{e.distributionOperationLogsList=d.items,e.total=d.count,e.loading=!1})}function q(){o.value.resetFields(),c()}return Q(()=>{c()}),(d,s)=>{const w=r("el-input"),g=r("el-form-item"),f=r("el-button"),b=r("el-col"),y=r("el-row"),u=r("el-table-column"),P=r("el-table"),V=r("pagination"),D=r("el-card"),z=j("loading");return _(),J("div",te,[t(y,{gutter:20},{default:l(()=>[t(b,{span:24,xs:24},{default:l(()=>[t(D,{class:"box-card"},{default:l(()=>[t(a(F),{ref_key:"queryFormRef",ref:o,model:a(p),inline:!0},{default:l(()=>[t(y,null,{default:l(()=>[t(b,{span:24,xs:24},{default:l(()=>[t(g,{prop:"id"},{default:l(()=>[t(w,{modelValue:a(e).queryParams.userId,"onUpdate:modelValue":s[0]||(s[0]=i=>a(e).queryParams.userId=i),placeholder:"userId",clearable:"",style:{width:"200px"},onKeyup:T(c,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),t(g,null,{default:l(()=>[t(f,{type:"primary",icon:a($),onClick:c},{default:l(()=>[oe]),_:1},8,["icon"]),t(f,{icon:a(Z),onClick:q},{default:l(()=>[ae]),_:1},8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),G((_(),k(P,{data:a(e).distributionOperationLogsList},{default:l(()=>[t(u,{label:"\u7528\u6237id",align:"center",prop:"userId"}),t(u,{label:"\u767B\u5F55ip",align:"center",prop:"ip"}),t(u,{label:"\u7C7B\u578B",align:"center",prop:"method"}),t(u,{label:"\u63A5\u53E3",align:"center",prop:"path"}),t(u,{label:"\u5185\u5BB9",align:"center",prop:"input"}),t(u,{label:"\u65F6\u95F4",align:"center"},{default:l(i=>[H("p",null,W(a(Y)(i.row.createdAt)),1)]),_:1})]),_:1},8,["data"])),[[z,a(L)]]),a(m)>0?(_(),k(V,{key:0,total:a(m),page:a(p).page,"onUpdate:page":s[1]||(s[1]=i=>a(p).page=i),limit:a(p).pageSize,"onUpdate:limit":s[2]||(s[2]=i=>a(p).pageSize=i),onPagination:c},null,8,["total","page","limit"])):X("",!0)]),_:1})]),_:1})]),_:1})])}}}));export{ue as default};
