var R=Object.defineProperty,U=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var v=(t,r,d)=>r in t?R(t,r,{enumerable:!0,configurable:!0,writable:!0,value:d}):t[r]=d,k=(t,r)=>{for(var d in r||(r={}))q.call(r,d)&&v(t,d,r[d]);if(E)for(var d of E(r))I.call(r,d)&&v(t,d,r[d]);return t},A=(t,r)=>U(t,w(r));import{a4 as C,b as S,d as $,r as h,$ as g,J as z,M as N,f as D,o as j,c as J,a as i,t as _,l as u,j as o,h as s,q as Q,s as G,z as c,P as H,E as B}from"./index-ad449e55.js";function K(){return C({url:"/distribution/config",method:"get"})}function L(t){return C({url:"/distribution/price",method:"post",data:t})}function O(t){return C({url:"/distribution/setup",method:"post",data:t})}const m=t=>(Q("data-v-1cd07308"),t=t(),G(),t),W={class:"app-container"},X={class:"actions"},Y={class:"dtbConfig"},Z=m(()=>i("div",{class:"titie"},"\u5206\u9500\u914D\u7F6E",-1)),ee={class:"content"},ue=m(()=>i("span",null,"\u5B98\u65B9\u94B1\u5305:",-1)),ie=m(()=>i("span",null,"usdtToken:",-1)),oe=m(()=>i("span",null,"mechaToken:",-1)),te=m(()=>i("span",null,"\u666E\u901A\u76F2\u76D2\u4EF7\u683C:",-1)),le=m(()=>i("span",null,"\u73CD\u85CF\u76F2\u76D2\u4EF7\u683C:",-1)),se={class:"btns"},re=c("\u4FEE\u6539\u4EF7\u683C"),ne=c("\u4FEE\u6539Token"),de={class:"dialog-footer"},ae=c("\u786E \u5B9A"),pe=c("\u53D6 \u6D88"),ce={class:"dialog-footer"},me=c("\u786E \u5B9A"),Fe=c("\u53D6 \u6D88"),fe={name:"user"},_e=$(A(k({},fe),{setup(t){const r=h(g),d=h(g),{proxy:T}=H(),e=z({loading:!1,priceForm:{},updateForm:{},distributionConfig:{},activeRound:0,picker:0,priceDialog:{visible:!1,title:"\u4FEE\u6539\u76F2\u76D2\u4EF7\u683C"},updateDialog:{visible:!1,title:"\u4FEE\u6539token\u914D\u7F6E"},priceRules:{mintPrice:[{required:!0,message:"\u76F2\u76D2\u4EF7\u683C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],rareMintPrice:[{required:!0,message:"\u76F2\u76D2\u4EF7\u683C\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]},updateRules:{officialAddr:[{required:!0,message:"\u5B98\u65B9\u94B1\u5305\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],usdtToken:[{required:!0,message:"usdtToken\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],mechaToken:[{required:!0,message:"mechaToken\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),V=()=>{e.priceForm.mintPrice=e.distributionConfig.commonPrice,e.priceForm.rareMintPrice=e.distributionConfig.preciousPrice,e.priceDialog.visible=!0};function P(){r.value.validate(a=>{a&&L(e.priceForm).then(()=>{B.success("\u4FEE\u6539\u8BF7\u6C42\u53D1\u9001\u6210\u529F\uFF0C\u6B64\u64CD\u4F5C\u9700\u7B49\u5F85\u667A\u80FD\u5408\u7EA6\u4EA4\u4E92\u5B8C\u6BD5\uFF0C\u8BF7\u52FF\u9891\u7E41\u64CD\u4F5C")}).finally(()=>{e.priceDialog.visible=!1})})}const y=()=>{e.updateForm.officialAddr=e.distributionConfig.officialAddr,e.updateForm.usdtToken=e.distributionConfig.usdtToken,e.updateForm.mechaToken=e.distributionConfig.mechaToken,e.updateDialog.visible=!0};function x(){d.value.validate(a=>{a&&O(e.updateForm).then(()=>{B.success("\u4FEE\u6539\u8BF7\u6C42\u53D1\u9001\u6210\u529F\uFF0C\u6B64\u64CD\u4F5C\u9700\u7B49\u5F85\u667A\u80FD\u5408\u7EA6\u4EA4\u4E92\u5B8C\u6BD5\uFF0C\u8BF7\u52FF\u9891\u7E41\u64CD\u4F5C")}).finally(()=>{e.priceDialog.visible=!1})})}const M=()=>{K().then(a=>{e.distributionConfig=a.data})};return N(()=>{M()}),(a,l)=>{const p=D("el-button"),F=D("el-input"),f=D("el-form-item"),b=D("el-dialog");return j(),J("div",W,[i("div",X,[i("div",Y,[Z,i("div",ee,[i("div",null,[ue,i("span",null,_(u(e).distributionConfig.officialAddr),1)]),i("div",null,[ie,i("span",null,_(u(e).distributionConfig.usdtToken),1)]),i("div",null,[oe,i("span",null,_(u(e).distributionConfig.mechaToken),1)]),i("div",null,[te,i("span",null,_(u(e).distributionConfig.commonPrice),1)]),i("div",null,[le,i("span",null,_(u(e).distributionConfig.preciousPrice),1)])]),i("div",se,[o(p,{type:"success",size:"large",onClick:V},{default:s(()=>[re]),_:1}),o(p,{type:"success",size:"large",onClick:y,disabled:u(T).$hasRole.disShow(["finance"])},{default:s(()=>[ne]),_:1},8,["disabled"])])])]),o(b,{title:u(e).priceDialog.title,modelValue:u(e).priceDialog.visible,"onUpdate:modelValue":l[3]||(l[3]=n=>u(e).priceDialog.visible=n),width:"600px","append-to-body":""},{footer:s(()=>[i("div",de,[o(p,{type:"primary",onClick:P},{default:s(()=>[ae]),_:1}),o(p,{onClick:l[2]||(l[2]=n=>u(e).priceDialog.visible=!1)},{default:s(()=>[pe]),_:1})])]),default:s(()=>[o(u(g),{ref_key:"priceFormRef",ref:r,model:u(e).priceForm,rules:u(e).priceRules,"label-width":"80px"},{default:s(()=>[o(f,{label:"\u666E\u901A\u76F2\u76D2",prop:"mintPrice"},{default:s(()=>[o(F,{modelValue:u(e).priceForm.mintPrice,"onUpdate:modelValue":l[0]||(l[0]=n=>u(e).priceForm.mintPrice=n),placeholder:"\u8BF7\u8F93\u5165\u666E\u901A\u76F2\u76D2\u4EF7\u683C"},null,8,["modelValue"])]),_:1}),o(f,{label:"\u73CD\u85CF",prop:"rareMintPrice"},{default:s(()=>[o(F,{modelValue:u(e).priceForm.rareMintPrice,"onUpdate:modelValue":l[1]||(l[1]=n=>u(e).priceForm.rareMintPrice=n),placeholder:"\u8BF7\u8F93\u5165\u73CD\u85CF\u76F2\u76D2\u4EF7\u683C"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"]),o(b,{title:u(e).updateDialog.title,modelValue:u(e).updateDialog.visible,"onUpdate:modelValue":l[8]||(l[8]=n=>u(e).updateDialog.visible=n),width:"700px","append-to-body":""},{footer:s(()=>[i("div",ce,[o(p,{type:"primary",onClick:x},{default:s(()=>[me]),_:1}),o(p,{onClick:l[7]||(l[7]=n=>u(e).updateDialog.visible=!1)},{default:s(()=>[Fe]),_:1})])]),default:s(()=>[o(u(g),{ref_key:"updateFormRef",ref:d,model:u(e).updateForm,rules:u(e).updateRules,"label-width":"120px"},{default:s(()=>[o(f,{label:"\u5B98\u65B9\u8D26\u53F7",prop:"ifficialAddr"},{default:s(()=>[o(F,{modelValue:u(e).updateForm.officialAddr,"onUpdate:modelValue":l[4]||(l[4]=n=>u(e).updateForm.officialAddr=n),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u65B0\u5B98\u65B9\u8D26\u53F7\u5730\u5740"},null,8,["modelValue"])]),_:1}),o(f,{label:"usdtToken",prop:"usdtToken"},{default:s(()=>[o(F,{modelValue:u(e).updateForm.usdtToken,"onUpdate:modelValue":l[5]||(l[5]=n=>u(e).updateForm.usdtToken=n),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u65B0usdtToken"},null,8,["modelValue"])]),_:1}),o(f,{label:"mechaToken",prop:"mechaToken"},{default:s(()=>[o(F,{modelValue:u(e).updateForm.mechaToken,"onUpdate:modelValue":l[6]||(l[6]=n=>u(e).updateForm.mechaToken=n),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u65B0mechaToken"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}}}));var Ce=S(_e,[["__scopeId","data-v-1cd07308"]]);export{Ce as default};
